<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Mysql基础（六）多表查询, 程序猿小野">
    <meta name="description" content="Mysql基础（六）多表查询">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Mysql基础（六）多表查询 | 程序猿小野</title>
    <link rel="icon" type="image/png" href="/medias/avatar.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/css/post.css">



    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="程序猿小野" type="application/atom+xml">
</head>

<!-- <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script> -->

<!-- <script src="https://cdn.bootcss.com/jquery.pjax/2.0.1/jquery.pjax.min.js"></script> -->

<script>

 // 对所有链接跳转事件绑定pjax容器navContainer
//  $(document).pjax('a:not(a[target="_blank"])', '#pjax-container', {fragment: '#pjax-container', timeout: 8000});


</script>

  


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/avatar.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">程序猿小野</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/avatar.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">程序猿小野</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/MonkeyKingYY" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0066ff;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/MonkeyKingYY" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    <main id="pjax-container">
        



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/9.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Mysql基础（六）多表查询</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="container content">

    
    <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/MySQL/">
                                <span class="chip bg-color">MySQL</span>
                            </a>
                        
                            <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">
                                <span class="chip bg-color">数据库</span>
                            </a>
                        
                            <a href="/tags/%E5%90%8E%E5%8F%B0/">
                                <span class="chip bg-color">后台</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/MySQL/" class="post-category">
                                MySQL
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-11-23
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2024-07-17
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    4.9k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    21 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.min.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>版权申明：本文用于个人学习记录，学习课程为黑马程序员的mysql教程。如需获取官方的学习视频和文档资料，请至黑马程序员官方获取。下面附上教学视频的链接地址，向提供免费教学视频的老师致敬，学如逆水行舟，不进则退，共勉</p>

<p><a data-link-desc="黑马程序员 MySQL数据库入门到精通，从mysql安装到mysql高级、mysql优化全囊括共计195条视频，包括：01.MySQL课程介绍、02. 基础-课程内容&amp;数据库相关概念、03. 基础-概述-MySQL安装及启动等，UP主更多精彩视频，请关注UP账号。" data-link-icon="https://csdnimg.cn/release/blog_editor_html/release2.3.6/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=N7T8" data-link-title="黑马程序员 MySQL数据库入门到精通，从mysql安装到mysql高级、mysql优化全囊括_哔哩哔哩_bilibili" target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Kr4y1i7ru/?spm_id_from=333.337.search-card.all.click&amp;vd_source=db5d28283daae15e6008d16a1b91c557" title="黑马程序员 MySQL数据库入门到精通，从mysql安装到mysql高级、mysql优化全囊括_哔哩哔哩_bilibili">黑马程序员 MySQL数据库入门到精通，从mysql安装到mysql高级、mysql优化全囊括_哔哩哔哩_bilibili</a></p>

<h1>1、多表关系&nbsp;</h1>

<div><span style="color:#34495e;">项目开发中，在进行数据库表结构设计时，会根据业务需求及业务模块之间的关系，分析并设计表结构，由于业务之间相互关联，所以各个表结构之间也存在着各种联系，基本上分为三种：</span></div>

<div>
<ul><li><span style="color:#34495e;">一对多</span><span style="color:#34495e;">(</span><span style="color:#34495e;">多对一</span><span style="color:#34495e;">) </span></li>
    <li><span style="color:#34495e;">多对多 </span></li>
    <li><span style="color:#34495e;">一对一</span></li>
</ul></div>

<h3>1.1 一对多&nbsp;</h3>

<ul><li><span style="color:#34495e;">案例</span><span style="color:#34495e;">: </span><span style="color:#34495e;">部门 与 员工的关系 </span></li>
    <li><span style="color:#34495e;">关系</span><span style="color:#34495e;">: </span><span style="color:#34495e;">一个部门对应多个员工，一个员工对应一个部门 </span></li>
    <li><span style="color:#34495e;">实现</span><span style="color:#34495e;">: </span><span style="color:#34495e;">在多的一方建立外键，指向一的一方的主键</span></li>
</ul><p><img alt="" height="375" src="/medias/images/All/43.png" width="1110"></p>

<h3>&nbsp;1.2 多对多</h3>

<ul><li><span style="color:#34495e;">案例</span><span style="color:#34495e;">: </span><span style="color:#34495e;">学生 与 课程的关系 </span></li>
    <li><span style="color:#34495e;">关系</span><span style="color:#34495e;">: </span><span style="color:#34495e;">一个学生可以选修多门课程，一门课程也可以供多个学生选择 </span></li>
    <li><span style="color:#34495e;">实现</span><span style="color:#34495e;">: </span><span style="color:#34495e;">建立第三张中间表，中间表至少包含两个外键，分别关联两方主键 </span></li>
</ul><p><img alt="" height="341" src="/medias/images/All/44.png" width="1130">&nbsp;对应的SQL脚本：</p>

<pre><code class="language-sql">-- 多表查询
create table student
(
    id   int auto_increment primary key comment '主键ID',
    name varchar(10) comment '姓名',
    no   varchar(10) comment '学号'
) comment '学生表';
insert into student
values (null, '黛绮丝', '2000100101'),
       (null, '谢逊', '2000100102'),
       (null, '殷天正', '2000100103'),
       (null, '韦一笑', '2000100104');

create table course
(
    id   int auto_increment primary key comment '主键ID',
    name varchar(10) comment '课程名称'
) comment '课程表';
insert into course
values (null, 'Java'),
       (null, 'PHP'),
       (null, 'MySQL'),
       (null, 'Hadoop');

create table student_course
(
    id        int auto_increment comment '主键' primary key,
    studentid int not null comment '学生ID',
    courseid  int not null comment '课程ID',
    constraint fk_courseid foreign key (courseid) references course (id),
    constraint fk_studentid foreign key (studentid) references student (id)
) comment '学生课程中间表';
insert into student_course values (null,1,1),(null,1,2),(null,1,3),(null,2,2), (null,2,3),(null,3,4);

</code></pre>

<h3>1.3 一对一&nbsp;</h3>

<ul><li><span style="color:#34495e;">案例</span><span style="color:#34495e;">: </span><span style="color:#34495e;">用户 与 用户详情的关系 </span></li>
    <li><span style="color:#34495e;">关系</span><span style="color:#34495e;">: </span><span style="color:#34495e;">一对一关系，多用于单表拆分，将一张表的基础字段放在一张表中，其他详情字段放在另</span><span style="color:#34495e;">一张表中，以提升操作效率 </span></li>
    <li><span style="color:#34495e;">实现</span><span style="color:#34495e;">: </span><span style="color:#34495e;">在任意一方加入外键，关联另外一方的主键，并且设置外键为唯一的</span><span style="color:#34495e;">(UNIQUE) </span></li>
</ul><p><img alt="" height="255" src="/medias/images/All/45.png" width="1127"></p>

<p>对应的SQL：&nbsp;</p>

<pre><code class="language-sql">create table tb_user
(
    id     int auto_increment primary key comment '主键ID',
    name   varchar(10) comment '姓名',
    age    int comment '年龄',
    gender char(1) comment '1: 男 , 2: 女',
    phone  char(11) comment '手机号'
) comment '用户基本信息表';

create table tb_user_edu
(
    id            int auto_increment primary key comment '主键ID',
    degree        varchar(20) comment '学历',
    major         varchar(50) comment '专业',
    primaryschool varchar(50) comment '小学',
    middleschool  varchar(50) comment '中学',
    university    varchar(50) comment '大学',
    userid        int unique comment '用户ID',
    constraint fk_userid foreign key (userid) references tb_user (id)
) comment '用户教育信息表';

insert into tb_user(id, name, age, gender, phone)
values (null, '黄渤', 45, '1', '18800001111'),
       (null, '冰冰', 35, '2', '18800002222'),
       (null, '码云', 55, '1', '18800008888'),
       (null, '李彦宏', 50, '1', '18800009999');
insert into tb_user_edu(id, degree, major, primaryschool, middleschool, university, userid)
values (null, '本科', '舞蹈', '静安区第一小学', '静安区第一中学', '北京舞蹈学院', 1),
       (null, '硕士', '表演', '朝阳区第一小学', '朝阳区第一中学', '北京电影学院', 2),
       (null, '本科', '英语', '杭州市第一小学', '杭州市第一中学', '杭州师范大学', 3),
       (null, '本科', '应用数学', '阳泉第一小学', '阳泉区第一中学', '清华大学', 4);</code></pre>

<h1>2、多表查询概述&nbsp;</h1>

<h3>2.1 数据准备</h3>

<pre><code class="language-sql">-- 创建dept表，并插入数据
create table dept
(
    id   int auto_increment comment 'ID' primary key,
    name varchar(50) not null comment '部门名称'
) comment '部门表';
INSERT INTO dept (id, name)
VALUES (1, '研发部'),
       (2, '市场部'),
       (3, '财务部'),
       (4, '销售部'),
       (5, '总经办'),
       (6, '人事部');

-- 创建emp表，并插入数据
create table emp
(
    id        int auto_increment comment 'ID' primary key,
    name      varchar(50) not null comment '姓名',
    age       int comment '年龄',
    job       varchar(20) comment '职位',
    salary    int comment '薪资',
    entrydate date comment '入职时间',
    managerid int comment '直属领导ID',
    dept_id   int comment '部门ID'
) comment '员工表';

-- 添加外键
alter table emp
    add constraint fk_emp_dept_id foreign key (dept_id) references dept (id);

INSERT INTO emp (id, name, age, job, salary, entrydate, managerid, dept_id)
VALUES (1, '金庸', 66, '总裁', 20000, '2000-01-01', null, 5),
       (2, '张无忌', 20, '项目经理', 12500, '2005-12-05', 1, 1),
       (3, '杨逍', 33, '开发', 8400, '2000-11-03', 2, 1),
       (4, '韦一笑', 48, '开发', 11000, '2002-02-05', 2, 1),
       (5, '常遇春', 43, '开发', 10500, '2004-09-07', 3, 1),
       (6, '小昭', 19, '程序员鼓励师', 6600, '2004-10-12', 2, 1),
       (7, '灭绝', 60, '财务总监', 8500, '2002-09-12', 1, 3),
       (8, '周芷若', 19, '会计', 48000, '2006-06-02', 7, 3),
       (9, '丁敏君', 23, '出纳', 5250, '2009-05-13', 7, 3),
       (10, '赵敏', 20, '市场部总监', 12500, '2004-10-12', 1, 2),
       (11, '鹿杖客', 56, '职员', 3750, '2006-10-03', 10, 2),
       (12, '鹤笔翁', 19, '职员', 3750, '2007-05-09', 10, 2),
       (13, '方东白', 19, '职员', 5500, '2009-02-12', 10, 2),
       (14, '张三丰', 88, '销售总监', 14000, '2004-10-12', 1, 4),
       (15, '俞莲舟', 38, '销售', 4600, '2004-10-12', 14, 4),
       (16, '宋远桥', 40, '销售', 4600, '2004-10-12', 14, 4),
       (17, '陈友谅', 42, null, 2000, '2011-10-12', 1, null);</code></pre>

<h3>2.2 概述&nbsp;</h3>

<div><span style="color:#34495e;">多表查询就是指从多张表中查询数据。</span></div>

<div><img alt="" height="1200" src="/medias/images/All/46.png" width="705"></div>

<h3><img alt="" height="511" src="/medias/images/All/47.png" width="912">&nbsp;2.3 分类</h3>

<ul><li>连接查询
    <ul><li>
        <div><span style="color:#34495e;">内连接：相当于查询</span><span style="color:#34495e;">A</span><span style="color:#34495e;">、</span><span style="color:#34495e;">B</span><span style="color:#34495e;">交集部分数据 </span></div>
        </li>
        <li>
        <div><span style="color:#34495e;">外连接： </span></div>
        </li>
        <li>
        <div><span style="color:#34495e;">左外连接：查询左表所有数据，以及两张表交集部分数据 </span></div>
        </li>
        <li>
        <div><span style="color:#34495e;">右外连接：查询右表所有数据，以及两张表交集部分数据 </span></div>
        </li>
        <li>
        <div><span style="color:#34495e;">自连接：当前表与自身的连接查询，自连接必须使用表别名</span></div>
        </li>
    </ul></li>
    <li>子查询</li>
</ul><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img alt="" height="189" src="/medias/images/All/48.png" width="551"></p>

<h1>3、内连接&nbsp;</h1>

<p><img alt="" height="342" src="/medias/images/All/49.png" width="896"></p>

<h5>1）隐式内连接</h5>

<blockquote>
<p><span style="color:#770088;">SELECT&nbsp; &nbsp;</span><span style="color:#34495e;">字段列表&nbsp; &nbsp;</span><span style="color:#770088;">FROM&nbsp; &nbsp;</span><span style="color:#34495e;">表</span><span style="color:#34495e;">1 , </span><span style="color:#34495e;">表</span><span style="color:#34495e;">2&nbsp; &nbsp;</span><span style="color:#770088;">WHERE&nbsp; &nbsp;</span><span style="color:#34495e;">条件 </span><span style="color:#34495e;">... ;</span>&nbsp;</p>
</blockquote>

<h5>2）<span style="color:#34495e;">显式内连接</span></h5>

<blockquote>
<p><span style="color:#770088;">SELECT&nbsp; &nbsp;</span><span style="color:#34495e;">字段列表&nbsp; &nbsp;</span><span style="color:#770088;">FROM&nbsp; &nbsp;</span><span style="color:#34495e;">表</span><span style="color:#34495e;">1&nbsp; &nbsp;[ INNER ]&nbsp; &nbsp;</span><span style="color:#770088;">JOIN&nbsp; &nbsp;</span><span style="color:#34495e;">表</span><span style="color:#34495e;">2&nbsp; &nbsp;</span><span style="color:#770088;">ON&nbsp; &nbsp;</span><span style="color:#34495e;">连接条件 </span><span style="color:#34495e;">... ;&nbsp;</span>&nbsp;</p>
</blockquote>

<pre><code class="language-sql">-- 内连接演示
-- 1. 查询每一个员工的姓名 , 及关联的部门的名称 (隐式内连接实现)
-- 表结构：emp，dept
-- 连接条件：emp.dept_id = dept.id
-- 16条数据，因为有一个员工没有部门信息
select emp.name, dept.name from emp, dept where emp.dept_id = dept.id;
-- 起别名, 起了别名就只能通过别名.
select e.name, d.name from emp e, dept d where e.dept_id = d.id;

-- 2. 查询每一个员工的姓名 , 及关联的部门的名称 (显式内连接实现) --- INNER JOIN ... ON ...
-- 表结构：emp，dept
-- 连接条件：emp.dept_id = dept.id
select e.name,d.name from emp e inner join dept d on e.dept_id = d.id;
-- inner可以省略
select e.name,d.name from emp e join dept d on e.dept_id = d.id;</code></pre>

<blockquote>
<div><span style="color:#777777;">表的别名</span><span style="color:#777777;">: </span></div>

<div><span style="color:#777777;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;①. tablea as </span><span style="color:#777777;">别名</span><span style="color:#777777;">1 , tableb as </span><span style="color:#777777;">别名</span><span style="color:#777777;">2 ; </span></div>

<div><span style="color:#777777;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;②. tablea </span><span style="color:#777777;">别名</span><span style="color:#777777;">1 , tableb </span><span style="color:#777777;">别名</span><span style="color:#777777;">2 ; </span></div>
</blockquote>

<blockquote>
<p>注意事项：<span style="color:#777777;">一旦为表起了别名，就不能再使用表名来指定对应的字段了，此时只能够使用别名来指定字段。</span></p>
</blockquote>

<h1>4、外连接&nbsp;</h1>

<p>&nbsp;<img alt="" height="242" src="/medias/images/All/50.png" width="700"></p>

<h5>1）左外连接</h5>

<blockquote>
<p>&nbsp;<span style="color:#770088;">SELECT&nbsp; &nbsp;</span><span style="color:#34495e;">字段列表&nbsp; &nbsp;</span><span style="color:#770088;">FROM&nbsp; &nbsp;</span><span style="color:#34495e;">表</span><span style="color:#34495e;">1&nbsp; &nbsp;LEFT&nbsp; &nbsp;[ OUTER ]&nbsp; &nbsp;</span><span style="color:#770088;">JOIN&nbsp; &nbsp;</span><span style="color:#34495e;">表</span><span style="color:#34495e;">2&nbsp; &nbsp;</span><span style="color:#770088;">ON&nbsp;&nbsp;</span><span style="color:#34495e;">条件 </span><span style="color:#34495e;">... ; </span></p>
</blockquote>

<p><span style="color:#34495e;">左外连接相当于查询表</span><span style="color:#34495e;">1(</span><span style="color:#34495e;">左表</span><span style="color:#34495e;">)</span><span style="color:#34495e;">的所有数据，当然也包含表</span><span style="color:#34495e;">1</span><span style="color:#34495e;">和表</span><span style="color:#34495e;">2</span><span style="color:#34495e;">交集部分的数据。 </span></p>

<h5>2）右外连接&nbsp;</h5>

<blockquote>
<p>&nbsp;<span style="color:#770088;">SELECT&nbsp; &nbsp;</span><span style="color:#34495e;">字段列表&nbsp; &nbsp;</span><span style="color:#770088;">FROM&nbsp; &nbsp;</span><span style="color:#34495e;">表</span><span style="color:#34495e;">1&nbsp; &nbsp;RIGHT&nbsp; &nbsp;[ OUTER ]&nbsp; &nbsp;</span><span style="color:#770088;">JOIN&nbsp; &nbsp;</span><span style="color:#34495e;">表</span><span style="color:#34495e;">2&nbsp; &nbsp;</span><span style="color:#770088;">ON&nbsp; &nbsp;</span><span style="color:#34495e;">条件 </span><span style="color:#34495e;">... ; </span></p>
</blockquote>

<p><span style="color:#34495e;">右外连接相当于查询表</span><span style="color:#34495e;">2(</span><span style="color:#34495e;">右表</span><span style="color:#34495e;">)</span><span style="color:#34495e;">的所有数据，当然也包含表</span><span style="color:#34495e;">1</span><span style="color:#34495e;">和表</span><span style="color:#34495e;">2</span><span style="color:#34495e;">交集部分的数据。</span></p>

<pre><code class="language-sql">-- 外连接演示
-- 1. 查询emp表的所有数据，和对应的部门信息（左外连接）
-- 由于需求中提到，要查询emp的所有数据，所以是不能内连接查询的，需要考虑使用外连接查询。
-- 表结构：emp, dept
-- 连接条件：emp.dept_id = dept.id
-- 17条数据，左外连接会完全包含左表的数据
select e.*, d.name from emp e left outer join dept d on e.dept_id = d.id;
-- outer关键字可以省略
select e.*, d.name from emp e left join dept d on e.dept_id = d.id;

-- 2. 查询dept表的所有数据，和对应的员工信息（右外连接）
-- 由于需求中提到，要查询dept表的所有数据，所以是不能内连接查询的，需要考虑使用外连接查询
-- 右外连接会包含所有右表的数据
select d.*, e.* from emp e right outer join dept d on e.dept_id = d.id;
-- 右外连接也可以改成左外连接
select d.*, e.* from dept d left outer join emp e on e.dept_id = d.id;</code></pre>

<blockquote>
<div><span style="color:#777777;">注意事项： </span></div>

<div></div>

<div><span style="color:#777777;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;左外连接和右外连接是可以相互替换的，只需要调整在连接查询时SQL</span><span style="color:#777777;">中，表结构的先后顺序就可以了。而我们在日常开发使用时，更偏向于左外连接。 </span></div>
</blockquote>

<h1>5、自连接</h1>

<h3>5.1 自连接查询</h3>

<div><span style="color:#34495e;">自连接查询，顾名思义，就是自己连接自己，也就是把一张表连接查询多次。我们先来学习一下自连接 的查询语法： </span></div>

<div></div>

<blockquote>
<div><span style="color:#770088;">SELECT&nbsp; &nbsp;</span><span style="color:#34495e;">字段列表&nbsp; &nbsp;</span><span style="color:#770088;">FROM&nbsp; &nbsp;</span><span style="color:#34495e;">表</span><span style="color:#34495e;">A&nbsp; &nbsp;</span><span style="color:#34495e;">别名</span><span style="color:#34495e;">A&nbsp; &nbsp;</span><span style="color:#770088;">JOIN&nbsp; &nbsp;</span><span style="color:#34495e;">表</span><span style="color:#34495e;">A&nbsp; &nbsp;</span><span style="color:#34495e;">别名</span><span style="color:#34495e;">B </span><span style="color:#770088;">ON </span><span style="color:#34495e;">条件 </span><span style="color:#34495e;">... ;</span></div>
</blockquote>

<p><span style="color:#34495e;">而对于自连接查询，可以是内连接查询，也可以是外连接查询。</span></p>

<pre><code class="language-sql">-- 自连接
-- 1. 查询员工及其所属领导的名字
-- 表结构：emp
-- 16条数据
select a.name, b.name from emp a, emp b where a.managerid = b.id;

-- 2. 查询所有员工emp及其领导的名字emp，如果员工没有领导，也需要查询出来
-- 17条数据
select a.name, b.name from emp a left join emp b on a.managerid = b.id;
select a.name '员工', b.name '领导' from emp a left join emp b on a.managerid = b.id;</code></pre>

<blockquote>
<div><span style="color:#777777;">注意事项</span><span style="color:#777777;">: </span></div>

<div></div>

<div><span style="color:#777777;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在自连接查询中，必须要为表起别名，要不然我们不清楚所指定的条件、返回的字段，到底是哪一张表的字段。</span></div>
</blockquote>

<h3>&nbsp;5.2 联合查询</h3>

<p>&nbsp;<span style="color:#34495e;">对于</span><span style="color:#34495e;">union</span><span style="color:#34495e;">查询，就是把多次查询的结果合并起来，形成一个新的查询结果集。</span></p>

<blockquote>
<p></p>

<div><span style="color:#770088;">SELECT&nbsp; &nbsp;</span><span style="color:#34495e;">字段列表&nbsp; &nbsp;</span><span style="color:#770088;">FROM&nbsp; &nbsp;</span><span style="color:#34495e;">表</span><span style="color:#34495e;">A ... </span></div>

<div><span style="color:#770088;">UNION&nbsp; &nbsp;</span><span style="color:#34495e;">[ ALL ] </span></div>

<div><span style="color:#770088;">SELECT&nbsp; &nbsp;</span><span style="color:#34495e;">字段列表&nbsp; &nbsp;</span><span style="color:#770088;">FROM&nbsp; &nbsp;</span><span style="color:#34495e;">表</span><span style="color:#34495e;">B ....; </span></div>
</blockquote>

<ul><li><span style="color:#34495e;">对于联合查询的多张表的列数必须保持一致，字段类型也需要保持一致。 </span></li>
    <li><span style="color:#34495e;">union all </span><span style="color:#34495e;">会将全部的数据直接合并在一起，</span><span style="color:#34495e;">union </span><span style="color:#34495e;">会对合并之后的数据去重。</span></li>
</ul><pre><code class="language-sql">-- 联合查询
-- 对于联合查询的多张表的列数必须保持一致，字段类型也需要保持一致。
-- union all 会将全部的数据直接合并在一起，union 会对合并之后的数据去重。
-- union all, union
-- 1. 将薪资低于5000的员工，和年龄大于50岁的员工全部查询出来
-- 会有重复数据
select * from  emp where salary &lt; 5000
union all
select * from emp where age &gt; 50;

</code><p><code class="language-sql">– 去重<br>select * from  emp where salary &lt; 5000<br>union<br>select * from emp where age &gt; 50;<br>– select * from emp where salary &lt; 5000 || emp.age &gt; 50;</code></p></pre><p></p>
<p><img alt="" height="382" src="/medias/images/All/51.png" width="919"></p>

<h1>6、子查询</h1>

<h3>6.1 概述</h3>

<div><span style="color:#34495e;">1). </span><span style="color:#34495e;">概念</span></div>

<div></div>

<div><span style="color:#34495e;">SQL</span><span style="color:#34495e;">语句中嵌套</span><span style="color:#34495e;">SELECT</span><span style="color:#34495e;">语句，称为嵌套查询，又称子查询。</span></div>

<div></div>

<blockquote>
<div><span style="color:#770088;">SELECT&nbsp;&nbsp;</span><span style="color:#34495e;">*&nbsp; &nbsp;</span><span style="color:#770088;">FROM&nbsp; &nbsp;</span><span style="color:#34495e;">t1&nbsp; &nbsp;</span><span style="color:#770088;">WHERE&nbsp; &nbsp;</span><span style="color:#34495e;">column1 = ( </span><span style="color:#770088;">SELECT&nbsp; &nbsp;</span><span style="color:#34495e;">column1&nbsp; &nbsp;</span><span style="color:#770088;">FROM&nbsp; &nbsp;</span><span style="color:#34495e;">t2 ); </span></div>
</blockquote>

<p><span style="color:#34495e;">子查询外部的语句可以是</span><span style="color:#34495e;">INSERT / UPDATE / DELETE / SELECT </span><span style="color:#34495e;">的任何一个。</span>&nbsp;</p>

<div><span style="color:#34495e;">2). </span><span style="color:#34495e;">分类</span></div>

<div></div>

<div>
<div><span style="color:#34495e;">根据子查询结果不同，分为： </span></div>

<ol><li><span style="color:#34495e;">&nbsp;</span><span style="color:#34495e;">标量子查询（子查询结果为单个值） </span></li>
    <li><span style="color:#34495e;">&nbsp;</span><span style="color:#34495e;">列子查询</span><span style="color:#34495e;">(</span><span style="color:#34495e;">子查询结果为一列</span><span style="color:#34495e;">) </span></li>
    <li><span style="color:#34495e;">&nbsp;行子查询</span><span style="color:#34495e;">(</span><span style="color:#34495e;">子查询结果为一行</span><span style="color:#34495e;">) </span></li>
    <li><span style="color:#34495e;">&nbsp;表子查询</span><span style="color:#34495e;">(</span><span style="color:#34495e;">子查询结果为多行多列</span><span style="color:#34495e;">)</span></li>
</ol></div>

<div><span style="color:#34495e;">根据子查询位置，分为： </span></div>

<div><span style="color:#34495e;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A. WHERE之后 </span></div>

<div><span style="color:#34495e;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B. FROM之后 </span></div>

<div><span style="color:#34495e;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C. SELECT之后 </span></div>

<div></div>

<h3>&nbsp;6.2&nbsp;<span style="color:#34495e;"><strong>标量子查询 </strong></span></h3>

<div><span style="color:#34495e;">子查询返回的结果是单个值（数字、字符串、日期等）最简单的形式，这种子查询称为标量子查询</span></div>

<div><span style="color:#34495e;">常用的操作符：</span><span style="color:#34495e;">= &lt;&gt; &gt; &gt;= &lt; &lt;= </span></div>

<div>
<pre><code class="language-sql">-- 子查询
-- 标量子查询
-- 子查询返回的结果是单个值（数字、字符串、日期等），最简单的形式，这种子查询称为标量子查询。
-- 常用的操作符：= &lt;&gt; &gt; &gt;= &lt; &lt;=
-- 1. 查询“销售部”的所有员工信息
--  a. 查询“销售部”部门ID
select id from dept where name = '销售部';
--  b. 根据销售部部门ID，查询员工信息
select * from emp where dept_id = 4;
-- 用一条sql子查询搞定
select * from emp where dept_id = (select id from dept where name = '销售部');

</code><p><code class="language-sql">– 2. 查询在“方东白”入职之后的员工信息<br>–  a. 查询方东白的入职日期<br>select entrydate from emp where name = ‘方东白’;<br>–  b. 根据方东白的入职日期，查询在“方东白”入职之后的员工信息<br>select * from emp where entrydate &gt; ‘2009-02-12’;<br>– 合并<br>select * from emp where entrydate &gt; (select entrydate from emp where name = ‘方东白’);</code></p></pre><p></p>
<h3>6.3 列子查询</h3>

<div><span style="color:#34495e;">子查询返回的结果是一列（可以是多行），这种子查询称为列子查询。 </span></div>

<div></div>

<div>
<div><span style="color:#34495e;">常用的操作符：</span><span style="color:#34495e;">IN </span><span style="color:#34495e;">、</span><span style="color:#34495e;">NOT IN </span><span style="color:#34495e;">、 </span><span style="color:#34495e;">ANY </span><span style="color:#34495e;">、</span><span style="color:#34495e;">SOME </span><span style="color:#34495e;">、 </span><span style="color:#34495e;">ALL </span></div>

<div></div>

<div><img alt="" height="433" src="/medias/images/All/52.png" width="910"></div>
</div>
</div>

<pre><code class="language-sql">-- 列子查询
-- 子查询返回的结果是一列（可以是多行），这种子查询称为列子查询。
-- 常用的操作符：IN 、NOT IN 、 ANY 、SOME 、 ALL
-- 1. 查询“销售部”和“市场部”的所有员工信息
--  a. 查询“销售部”和“市场部”的部门ID
select id from dept where name = '销售部' or name = '市场部';
--  b. 根据部门ID，查询员工信息
select * from emp where dept_id = 2 or dept_id = 4;
-- 合并
select * from emp where dept_id in (select id from dept where name = '销售部' or name = '市场部');

-- 2. 查询比财务部所有人工资都高的员工信息
--  a. 查询所有财务部的人员工资
select salary from emp where dept_id = (select id from dept where name = '财务部');
--  b. 比财务部所有人工资都高的员工信息
select * from emp where salary &gt; all (select salary from emp where dept_id = (select id from dept where name = '财务部'));

-- 3. 查询比研发部其中任意一人工资高的员工信息
--  a. 查询研发部所有人工资
select salary from emp where dept_id = (select id from dept where name = '研发部');
--  b. 比研发部任意一人工资高的员工信息
select * from emp where salary &gt; any (select salary from emp where dept_id = (select id from dept where name = '研发部'));
-- any\some 一个满足条件就行
select * from emp where salary &gt; some (select salary from emp where dept_id = (select id from dept where name = '研发部'));</code></pre>

<h3>6.4 行子查询&nbsp;</h3>

<p><span style="color:#34495e;">子查询返回的结果是一行（可以是多列），这种子查询称为行子查询。 </span></p>

<div><span style="color:#34495e;">常用的操作符：</span><span style="color:#34495e;">= </span><span style="color:#34495e;">、</span><span style="color:#34495e;">&lt;&gt; </span><span style="color:#34495e;">、</span><span style="color:#34495e;">IN </span><span style="color:#34495e;">、</span><span style="color:#34495e;">NOT IN </span></div>

<div></div>

<pre><code class="language-sql">-- 行子查询
-- 子查询返回的结果是一行（可以是多列），这种子查询称为行子查询。
-- 常用的操作符：= 、&lt;&gt; 、IN 、NOT IN
-- 1. 查询与 "张无忌" 的薪资及直属领导相同的员工信息
--  a. 查询"张无忌"的薪资及直属领导
select salary, managerid from emp where name = '张无忌';
--  b. 查询与 "张无忌" 的薪资及直属领导相同的员工信息
select * from emp where (salary,managerid) = (select salary, managerid from emp where name = '张无忌');</code></pre>

<h3>6.5 表子查询&nbsp;</h3>

<div><span style="color:#34495e;">子查询返回的结果是多行多列，这种子查询称为表子查询。</span></div>

<div></div>

<div><span style="color:#34495e;">常用的操作符：</span><span style="color:#34495e;">IN </span></div>

<div></div>

<div>
<pre><code class="language-sql">-- 表子查询
-- 子查询返回的结果是多行多列，这种子查询称为表子查询。
-- 常用的操作符：IN
-- 1. 查询与 "鹿杖客" , "宋远桥" 的职位和薪资相同的员工信息
--  a. 查询 "鹿杖客" , "宋远桥" 的职位和薪资
select job, salary from emp where name = '鹿杖客' || name = '宋远桥';
--  b. 查询与 "鹿杖客" , "宋远桥" 的职位和薪资相同的员工信息
select * from emp where (job,salary) in (select job, salary from emp where name = '鹿杖客' || name = '宋远桥');

</code><p><code class="language-sql">– 2. 查询入职日期是 “2006-01-01” 之后的员工信息 , 及其部门信息<br>–  a. 入职日期是 “2006-01-01” 之后的员工信息<br>select * from emp where entrydate &gt; ‘2006-01-01’;<br>–  b. 查询这部分员工, 对应的部门信息;<br>select e.<em>, d.</em> from (select * from emp where entrydate &gt; ‘2006-01-01’) e left join dept d on e.dept_id = d.id;</code></p></pre><p></p>
<h1>7、多表查询案例</h1>

<div><span style="color:#34495e;">数据环境准备</span><span style="color:#34495e;">:</span></div>

<div></div>

<div>
<pre><code class="language-sql">-- 多表查询案例
-- 准备工作，创建薪资等级表，并且插入数据
create table salgrade(
    grade int,
    losal int,
    hisal int
) comment '薪资等级表';
insert into salgrade values (1,0,3000);
insert into salgrade values (2,3001,5000);
insert into salgrade values (3,5001,8000);
insert into salgrade values (4,8001,10000);
insert into salgrade values (5,10001,15000);
insert into salgrade values (6,15001,20000);
insert into salgrade values (7,20001,25000);
insert into salgrade values (8,25001,30000);</code></pre>

<pre><code class="language-sql">-- 1. 查询员工的姓名、年龄、职位、部门信息 （隐式内连接）
-- 表: emp , dept
-- 连接条件 : emp.dept_id = dept.id
select e.name, e.age, e.salary, d.* from emp e, dept d where e.dept_id = d.id;

-- 2. 查询年龄小于30岁的员工的姓名、年龄、职位、部门信息（显式内连接）
-- 表: emp , dept
-- 连接条件 : emp.dept_id = dept.id
select e.name, e.age, e.salary, d.* from emp e join dept d on d.id = e.dept_id where e.age &lt; 30;

-- 3. 查询拥有员工的部门ID、部门名称
-- 表: emp , dept
-- 连接条件 : emp.dept_id = dept.id
-- distinct 对查询结果去重
select distinct d.id, d.name from emp e, dept d where e.dept_id = d.id;

-- 4. 查询所有年龄大于40岁的员工, 及其归属的部门名称; 如果员工没有分配部门, 也需要展示出来(外连接)
-- 表: emp , dept
-- 连接条件 : emp.dept_id = dept.id
-- 外连接
select e.*, d.name from emp e left outer join dept d on d.id = e.dept_id where e.age &gt; 40;

-- 5. 查询所有员工的工资等级
-- 表: emp , salgrade
-- 连接条件：emp.salary &gt;= salgrade.losal and emp.salary &lt;= salgrade.hisal
select e.*, s.grade, s.losal, s.hisal from emp e, salgrade s where e.salary &gt;= s.losal &amp;&amp; e.salary &lt;= s.hisal;
-- 另一种写法
select e.*, s.grade, s.losal, s.hisal from emp e, salgrade s where e.salary between s.losal and s.hisal;

-- 6. 查询 "研发部" 所有员工的信息及 工资等级
-- 表: emp , salgrade , dept
-- 连接条件 : emp.salary between salgrade.losal and salgrade.hisal ,
-- emp.dept_id = dept.id
-- 查询条件 : dept.name = '研发部'
select e.*, s.grade
from emp e,
     dept d,
     salgrade s
where (e.salary between s.losal and s.hisal and e.dept_id = d.id)
  and d.name = '研发部';

-- 7. 查询 "研发部" 员工的平均工资
-- 表: emp , dept
-- 连接条件 : emp.dept_id = dept.id
select avg(e.salary) from emp e, dept d where e.dept_id = d.id and d.name = '研发部';

-- 8. 查询工资比 "灭绝" 高的员工信息
-- select salary from emp e where e.name = '灭绝';
select * from emp where salary &gt; (select salary from emp e where e.name = '灭绝');

-- 9. 查询比平均薪资高的员工信息
-- select avg(salary) from emp;
select * from emp where salary &gt; (select avg(salary) from emp);

-- 10.查询低于本部门平均工资的员工信息
select avg(salary) from emp where dept_id = 1;
select avg(salary) from emp where dept_id = 2;
select * from emp e where salary &lt; (select avg(salary) from emp where dept_id = e.dept_id);

-- 11. 查询所有的部门信息, 并统计部门的员工人数
-- select count(*) from emp where dept_id = 1;
select d.id, d.name, (select count(*) from emp e where e.dept_id = d.id) '人数' from dept d;

-- 12. 查询所有学生的选课情况, 展示出学生名称, 学号, 课程名称
-- 表: student , course , student_course
-- 连接条件: student.id = student_course.studentid , course.id = student_course.courseid
select s.name,s.no,c.name from student s, student_course sc, course c where s.id = sc.studentid and sc.courseid = c.id;</code></pre>
</div>
</div>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">程序猿小野</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://example.com/2023/11/23/33-mysql-ji-chu-liu-duo-biao-cha-xun/">http://example.com/2023/11/23/33-mysql-ji-chu-liu-duo-biao-cha-xun/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">程序猿小野</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/MySQL/">
                                    <span class="chip bg-color">MySQL</span>
                                </a>
                            
                                <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">
                                    <span class="chip bg-color">数据库</span>
                                </a>
                            
                                <a href="/tags/%E5%90%8E%E5%8F%B0/">
                                    <span class="chip bg-color">后台</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="qq,qzone,wechat,weibo,douban" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    
        <!-- <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css"> -->

<div class="card gitalk-card" data-aos="fade-up">
    <div
        class="comment_headling"
        style="
            font-size: 20px;
            font-weight: 700;
            position: relative;
            padding-left: 20px;
            top: 15px;
            padding-bottom: 5px;
        "
    >
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="gitalk-container" class="card-content"></div>
    <div id="vcomments"></div>
</div>
<style>
    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }
    .vpower.txt-right {
        display: none;
    }
    .vcards{
        padding: 0 15px;
    }
    .vcount {
        padding: 0 10px !important;
    }
</style>
<!-- <script src="/libs/gitalk/gitalk.min.js"></script> -->
<script src="/js/Valine.min.js"></script>
<script>
    new Valine({
        el: "#vcomments",
        appId: "RSRAok96RSeswr5PnYfcRU5G-gzGzoHsz",
        appKey: "gMEBBmb61iRymM4LKWiDNsKA",
        placeholder: '有什么想对我说的话，请留言吧！'
    });
</script>
<!-- <script>
    let gitalk = new Gitalk({
        clientID: '',
        clientSecret: '7a416041eb0e3fdef9856b0b79a4ebb43bb70ab6',
        repo: 'https://github.com/MonkeyKingYY/blogtalk',
        owner: 'MonkeyKingYY',
        admin: ["MonkeyKingYY"],
        id: '2023-11-23T09-20-06',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script> -->

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2023/11/24/34-mysql-ji-chu-qi-shi-wu/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/20.jpg" class="responsive-img" alt="Mysql基础（七）事务">
                        
                        <span class="card-title">Mysql基础（七）事务</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Mysql基础（七）事务
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-11-24
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/MySQL/" class="post-category">
                                    MySQL
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/MySQL/">
                        <span class="chip bg-color">MySQL</span>
                    </a>
                    
                    <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">
                        <span class="chip bg-color">数据库</span>
                    </a>
                    
                    <a href="/tags/%E5%90%8E%E5%8F%B0/">
                        <span class="chip bg-color">后台</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2023/11/20/32-mysql-ji-chu-wu-yue-shu/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/10.jpg" class="responsive-img" alt="Mysql基础（五）约束">
                        
                        <span class="card-title">Mysql基础（五）约束</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Mysql基础（五）约束
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2023-11-20
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/MySQL/" class="post-category">
                                    MySQL
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/MySQL/">
                        <span class="chip bg-color">MySQL</span>
                    </a>
                    
                    <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">
                        <span class="chip bg-color">数据库</span>
                    </a>
                    
                    <a href="/tags/%E5%90%8E%E5%8F%B0/">
                        <span class="chip bg-color">后台</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>


  <!-- 是否加载使用自带的 prismjs. -->
  <script type="text/javascript" src="/libs/prism/prism.min.js"></script>


<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    

</main>



    </main>

    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="12289532682"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>



  

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2024</span>
            
            <a href="/about" target="_blank">程序猿小野</a>
            <!-- |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a> -->
            
            <br>
            
                &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                        class="white-color">67.9k</span>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/MonkeyKingYY" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1297348858@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1297348858" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1297348858" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
     
        <script type="text/javascript">
            // 只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write('<script type="text/javascript" src="/libs/others/star.js"><\/script>');
            }
        </script>
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
